{% extends 'manage_index.html' %}
{% block manager_register_css %}
<link href="/static/css/signin.css" rel="stylesheet">
<link href="/static/css/bootstrap-datetimepicker.min.css" rel="stylesheet" media="screen">
{% endblock %}
{% block page_container %}
<div class="container">

    <form id="register-form" class="form-signin" action="{% url 'add_client' %}" method="post">
        <h2 class="form-signin-heading">会员注册</h2>

        <p class="text-danger">{{ message }}</p>

        <label for="username" class="sr-only">用户名</label>
        <input id="username" name="username" class="form-control" placeholder="请输入用户名" autofocus type="text"><br>
        <label for="password" class="sr-only">密码</label>
        <input id="password" name="password" class="form-control" placeholder="请输入密码" type="password"><br>
        <label for="confirm_password" class="sr-only">重复密码</label>
        <input id="confirm_password" name="confirm_password" class="form-control" placeholder="请重复输入密码" type="password"><br>

        <div class="row">
            <div class="col-xs-6 col-lg-4">
                <div class="input-group">
                    <span class="input-group-addon">
                        <input id="male" name="gender" value="male" type="radio">
                    </span>
                    <input type="text" class="form-control" value="男" disabled>
                </div>
            </div>
            <div class="col-xs-6 col-lg-4">
                <div class="input-group">
                    <span class="input-group-addon">
                        <input id="female" name="gender" value="female" type="radio">
                    </span>
                    <input type="text" class="form-control" value="女" disabled>
                </div>
            </div>
            <label class="error" for="gender" generated="true" style="display:none"></label>
        </div><br>

        <div class="form-group">
            <div class="input-group date form_date col-md-24" data-date="" data-date-format="dd MM yyyy" data-link-field="dtp_input2" data-link-format="yyyy-mm-dd">
                <input id='date' class="form-control" size="16" name="date" type="text" value="" readonly placeholder="请选择出生日期">
                <span class="input-group-addon"><span class="glyphicon glyphicon-remove"></span></span>
                <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
            </div>
            <label class="error" for="date" generated="true" style="display:none"></label>
        </div>


        <label for="email" class="sr-only">邮箱地址</label>
        <input id="email" name="email" class="form-control" placeholder="请输入邮箱地址" type="email"><br>
        <label for="phone_num" class="sr-only">手机号码</label>
        <input id="phone_num" name="phone_num" class="form-control" placeholder="请输入手机号码" type="text"><br>
        <button class="btn btn-lg btn-primary btn-block" type="submit">注册</button>
    </form>

</div> <!-- /container -->
{% endblock %}
{% block manager_register_login_options_js %}
<script src="/static/js/jquery.validate.js"></script>
<script type="text/javascript" src="/static/js/bootstrap-datetimepicker.min.js" charset="UTF-8"></script>
<script type="text/javascript" src="/static/js/locales/bootstrap-datetimepicker.zh-CN.js" charset="UTF-8"></script>
<script type="text/javascript">
    $('.form_date').datetimepicker({
        language:  'zh-CN',
        weekStart: 1,
        todayBtn:  1,
        autoclose: 1,
        todayHighlight: 1,
        startView: 2,
        minView: 2,
        forceParse: 0
    });

    $().ready(function () {
        $("#register-form").validate({
            rules: {
                username: {
                    required: true
                },
                email: {
                    required: true,
                    email: true
                },
                phone_num: {
                    required: true
                },
                password: {
                    required: true
                },
                confirm_password: {
                    equalTo: "#password"
                },
                date:{
                    required: true
                },
                gender:{
                    required: true
                }
            },
            messages: {
                username: {
                    required: "请输入用户名"
                },
                email: {
                    required: "请输入邮箱地址",
                    email: "输入的邮箱地址不符合格式"
                },
                phone_num: {
                    required: "请输入电话号码"
                },
                password: {
                    required: "请输入密码"
                },
                confirm_password: {
                    equalTo: "两次输入的密码不一致"
                },
                date:{
                    required: "请选择出生日期"
                },
                gender:{
                    required: "请选择性别"
                }
            }
        });
    });
</script>
{% endblock %}

